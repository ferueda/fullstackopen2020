{"version":3,"sources":["components/Heading.js","components/PersonForm.js","components/Filter.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Heading","type","text","PersonForm","addPerson","newName","handleNameChange","newPhone","handlePhoneChange","displayBlock","onSubmit","value","onChange","placeholder","style","Filter","newSearch","handleSearchChange","htmlFor","name","Person","person","handleDeletion","number","onClick","Persons","personsToShow","handleDeletionOf","map","key","id","baseURL","getAll","a","axios","get","response","data","createPerson","personObject","post","deletePerson","personId","delete","updatePerson","put","Notification","notification","message","notificationStyle","backgroundColor","padding","fontSize","border","marginTop","color","App","useState","persons","setPersons","setNewName","newNumber","setNewNumber","setNewSearch","showAll","setShowAll","setNotification","setMessage","useEffect","personServices","then","initialData","displayNotification","setTimeout","cleanNamePhoneInput","filter","toLowerCase","includes","e","target","preventDefault","find","window","confirm","catch","personsData","length","concat","display","personName","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1391091a.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Heading = ({ type, text }) => {\r\n  switch (type) {\r\n    case 'h1':\r\n      return <h1>{text}</h1>;\r\n    case 'h2':\r\n      return <h2>{text}</h2>;\r\n    case 'h3':\r\n      return <h3>{text}</h3>;\r\n  }\r\n};\r\n\r\nexport default Heading;\r\n","import React from 'react';\r\nimport Heading from './Heading';\r\n\r\nconst PersonForm = ({\r\n  addPerson,\r\n  newName,\r\n  handleNameChange,\r\n  newPhone,\r\n  handlePhoneChange,\r\n  displayBlock\r\n}) => {\r\n  return (\r\n    <div>\r\n      <Heading type='h2' text='Add new' />\r\n      <form onSubmit={addPerson}>\r\n        <input\r\n          type='text'\r\n          value={newName}\r\n          onChange={handleNameChange}\r\n          placeholder='Enter name...'\r\n        />\r\n        <input\r\n          type='text'\r\n          value={newPhone}\r\n          onChange={handlePhoneChange}\r\n          style={displayBlock}\r\n          placeholder='Enter phone number'\r\n        />\r\n        <button style={displayBlock} type='submit'>\r\n          Add\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Filter = ({ newSearch, handleSearchChange }) => {\r\n  return (\r\n    <div>\r\n      <label htmlFor='search'>Filter shown with: </label>\r\n      <input\r\n        type='text'\r\n        name='search'\r\n        value={newSearch}\r\n        onChange={handleSearchChange}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\nimport Heading from './Heading';\r\n\r\nconst Person = ({ person, handleDeletion }) => {\r\n  return (\r\n    <p>\r\n      {person.name} - {person.number}{' '}\r\n      <button onClick={handleDeletion}>Delete</button>\r\n    </p>\r\n  );\r\n};\r\n\r\nconst Persons = ({ personsToShow, handleDeletionOf }) => {\r\n  return (\r\n    <div>\r\n      <Heading type='h2' text='Numbers' />\r\n      <div>\r\n        {personsToShow.map(person => (\r\n          <Person\r\n            key={person.id}\r\n            person={person}\r\n            handleDeletion={() => handleDeletionOf(person.id, person.name)}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import axios from 'axios';\r\n\r\nconst baseURL = '/api/persons';\r\n\r\nconst getAll = async () => {\r\n  const response = await axios.get(baseURL);\r\n  return response.data;\r\n};\r\n\r\nconst createPerson = async personObject => {\r\n  const response = await axios.post(baseURL, personObject);\r\n  return response.data;\r\n};\r\n\r\nconst deletePerson = async personId => {\r\n  const response = await axios.delete(`${baseURL}/${personId}`);\r\n  return response.data;\r\n};\r\n\r\nconst updatePerson = async (personId, personObject) => {\r\n  const response = await axios.put(`${baseURL}/${personId}`, personObject);\r\n  return response.data;\r\n};\r\n\r\nexport default { getAll, createPerson, deletePerson, updatePerson };\r\n","import React, { useState, useEffect } from 'react';\r\nimport Heading from './components/Heading';\r\nimport PersonForm from './components/PersonForm';\r\nimport Filter from './components/Filter';\r\nimport Persons from './components/Persons';\r\nimport personServices from './services/persons';\r\n\r\nconst Notification = ({ notification, message }) => {\r\n  const notificationStyle = {\r\n    backgroundColor: 'lightgrey',\r\n    padding: 10,\r\n    fontSize: 20,\r\n    border: '2px solid',\r\n    marginTop: 20,\r\n  };\r\n\r\n  const successStyle = {\r\n    color: 'green',\r\n  };\r\n\r\n  const errorStyle = {\r\n    color: 'red',\r\n  };\r\n\r\n  if (notification === 'success') {\r\n    return (\r\n      <div style={{ ...notificationStyle, ...successStyle }}>{message}</div>\r\n    );\r\n  } else if (notification === 'error') {\r\n    return <div style={{ ...notificationStyle, ...errorStyle }}>{message}</div>;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState('');\r\n  const [newNumber, setNewNumber] = useState('');\r\n  const [newSearch, setNewSearch] = useState('');\r\n  const [showAll, setShowAll] = useState(true);\r\n  const [notification, setNotification] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    personServices.getAll().then((initialData) => {\r\n      setPersons(initialData);\r\n    });\r\n  }, []);\r\n\r\n  const handleNameChange = (e) => {\r\n    setNewName(e.target.value);\r\n  };\r\n\r\n  const handlePhoneChange = (e) => {\r\n    setNewNumber(e.target.value);\r\n  };\r\n\r\n  const handleSearchChange = (e) => {\r\n    setNewSearch(e.target.value);\r\n    setShowAll(false);\r\n  };\r\n\r\n  const displayNotification = (type, message) => {\r\n    setNotification(type);\r\n    setMessage(message);\r\n    setTimeout(() => setNotification(null), 2000);\r\n  };\r\n\r\n  const cleanNamePhoneInput = () => {\r\n    setNewName('');\r\n    setNewNumber('');\r\n  };\r\n\r\n  const handleDeletionOf = (personId, personName) => {\r\n    if (window.confirm(`Are you sure you want to delete ${personName}?`)) {\r\n      personServices\r\n        .deletePerson(personId)\r\n        .then((response) => {\r\n          setPersons(persons.filter((person) => person.id !== response.id));\r\n          displayNotification(\r\n            'success',\r\n            `${personName} was successfully deleted from phonebook`\r\n          );\r\n        })\r\n        .catch(() => {\r\n          displayNotification(\r\n            'error',\r\n            'Person is already deleted from the server'\r\n          );\r\n          personServices\r\n            .getAll()\r\n            .then((personsData) => setPersons(personsData));\r\n        });\r\n    }\r\n  };\r\n\r\n  const addPerson = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (\r\n      persons.find(\r\n        (person) => person.name.toLowerCase() === newName.toLowerCase()\r\n      )\r\n    ) {\r\n      const person = persons.find(\r\n        (person) => person.name.toLowerCase() === newName.toLowerCase()\r\n      );\r\n\r\n      if (\r\n        window.confirm(\r\n          `${newName} is already added to the phonebook. Want to replace the old number with the new one? ${newNumber}`\r\n        )\r\n      ) {\r\n        const personObject = {\r\n          ...person,\r\n          number: newNumber,\r\n        };\r\n\r\n        personServices\r\n          .updatePerson(person.id, personObject)\r\n          .then((response) => {\r\n            setPersons(\r\n              persons.map((person) =>\r\n                person.id !== response.id ? person : response\r\n              )\r\n            );\r\n            cleanNamePhoneInput();\r\n            displayNotification(\r\n              'success',\r\n              `${personObject.name} number was successfully updated`\r\n            );\r\n          })\r\n          .catch(() => {\r\n            cleanNamePhoneInput();\r\n            displayNotification(\r\n              'error',\r\n              `${personObject.name} is deleted from the server`\r\n            );\r\n            personServices\r\n              .getAll()\r\n              .then((personsData) => setPersons(personsData));\r\n          });\r\n      }\r\n    } else {\r\n      if (newName !== '') {\r\n        const personObject = {\r\n          name: newName,\r\n          id: persons.length + 1,\r\n          number: newNumber,\r\n        };\r\n\r\n        personServices.createPerson(personObject).then((response) => {\r\n          setPersons(persons.concat(response));\r\n          cleanNamePhoneInput();\r\n          displayNotification(\r\n            'success',\r\n            `${personObject.name} was successfully added to phonebook`\r\n          );\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const displayBlock = {\r\n    display: 'block',\r\n  };\r\n\r\n  const personsToShow = showAll\r\n    ? persons\r\n    : persons.filter((person) =>\r\n        person.name.toLowerCase().includes(newSearch.toLowerCase())\r\n      );\r\n\r\n  return (\r\n    <div>\r\n      <Heading type='h1' text='Phonebook' />\r\n      <Filter newSearch={newSearch} handleSearchChange={handleSearchChange} />\r\n      <Notification notification={notification} message={message} />\r\n      <PersonForm\r\n        addPerson={addPerson}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newPhone={newNumber}\r\n        handlePhoneChange={handlePhoneChange}\r\n        displayBlock={displayBlock}\r\n      />\r\n      <Persons\r\n        personsToShow={personsToShow}\r\n        handleDeletionOf={handleDeletionOf}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}